{# @var cart \inklabs\kommerce\EntityDTO\CartDTO #}
{# @var cartItem \inklabs\kommerce\EntityDTO\CartItemDTO #}
{# @var recommendedProducts \inklabs\kommerce\EntityDTO\ProductDTO[] #}
{% extends '@store/layout/base.twig' %}

{% block pageTitle %}{{ cartItem.product.name }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="small-3 column">
            <a href="{{ productUrl(cartItem.product) }}">
                <img src="{{ productImageUrl(cartItem.product) }}" />
            </a>
        </div>
        <div class="small-9 column">
            <a href="{{ productUrl(cartItem.product) }}">
                <div class="product-name">{{ cartItem.product.name }}</div>
            </a>
            {% include '@store/helper/rating-stars.twig' with {'rating': cartItem.product.rating } only %}
            <span>Quantity in cart: {{ cartItem.quantity }}</span>
            {% include '@store/helper/price.twig' with {'price': cartItem.price } only %}
            {% include '@store/cart/parts/cart-item-options.twig' with {'cartItem': cartItem } only %}
        </div>
        <div class="column">
            <div class="alert alert-info">
                <a class="button small expanded" href="{{ routeUrl('cart.get.show') }}">
                    <i class="fa fa-shopping-cart"></i>
                    View Cart
                </a>

                {% include '@store/helper/checkout-button.twig' only %}

                <strong>Order subtotal:</strong>
                <span class="price-small">{{ cart.cartTotal.subtotal | displayPrice }}</span>

                <strong>{{ cart.totalItems }}</strong>

                {% trans %}
                    item in your Cart
                {% plural cart.totalItems %}
                    items in your Cart
                {% endtrans %}
            </div>
        </div>
    </div>

    {% embed '@store/helper/recommended-products.twig' with {'products': recommendedProducts } only %}
        {% block title %}Recommended for you{% endblock %}
    {% endembed %}

{% endblock %}
